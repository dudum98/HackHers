"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[703,644,263,882,501],{8770:function(o,e,t){t.r(e),t.d(e,{OrganizationSwitcher:function(){return B}});var i=t(4380),n=t(4041),a=t(844),r=t(9333),c=t(8369),s=t(5909),l=t(3931),d=t(4870),u=t(7362),g=t(3692),p=t(8313),h=t(166),m=t(3965),v=t(9927),z=t(4683);const b=o=>{const e=(0,c.useCardState)(),{userSuggestions:t}=(0,l.D_)({userSuggestions:z.mu.userSuggestions});return"accepted"===o.status?(0,i.Y)(r.Text,{colorScheme:"secondary",localizationKey:(0,r.localizationKeys)("organizationSwitcher.suggestionsAcceptedLabel")}):(0,i.Y)(r.Button,{elementDescriptor:r.descriptors.organizationSwitcherInvitationAcceptButton,textVariant:"buttonSmall",variant:"outline",colorScheme:"neutral",size:"sm",isLoading:e.isLoading,onClick:()=>e.runAsync(o.accept).then((o=>{var e;return null===(e=null==t?void 0:t.setData)||void 0===e?void 0:e.call(t,(e=>(0,z.l_)(o,e)))})).catch((o=>(0,v.H4)(o,[],e.setError))),localizationKey:(0,r.localizationKeys)("organizationSwitcher.action__suggestionsAccept")})},k=o=>{const e=(0,c.useCardState)();return(0,i.Y)(r.Button,{elementDescriptor:r.descriptors.organizationSwitcherInvitationAcceptButton,textVariant:"buttonSmall",variant:"outline",colorScheme:"neutral",size:"xs",isLoading:e.isLoading,onClick:o.onAccept,localizationKey:(0,r.localizationKeys)("organizationSwitcher.action__invitationAccept")})},w=o=>{const{children:e,publicOrganizationData:t}=o;return(0,i.FD)(r.Flex,{align:"center",gap:2,sx:o=>({justifyContent:"space-between",padding:`${o.space.$4} ${o.space.$5}`}),elementDescriptor:r.descriptors.organizationSwitcherPopoverInvitationActionsBox,children:[(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherListedOrganization",organization:t,sx:o=>({color:o.colors.$colorTextSecondary,":hover":{color:o.colors.$colorTextSecondary}})}),e]})},S=(0,c.withCardStateProvider)((o=>{var e;const{invitation:t,onOrganizationClick:n}=o,{accept:s,publicOrganizationData:d,status:u}=t,g=(0,c.useCardState)(),{getOrganization:h}=(0,l.ho)(),{organization:m}=(0,l.Z5)(),{userInvitations:b}=(0,l.D_)({userInvitations:z.mu.userInvitations,userMemberships:z.mu.userMemberships}),{acceptedInvitations:S,setAcceptedInvitations:f}=(0,a.useAcceptedInvitations)(),x=null===(e=S.find((o=>o.invitation.id===t.id)))||void 0===e?void 0:e.organization;return"accepted"===u?(null==x?void 0:x.id)&&(null==m?void 0:m.id)===x.id?null:(0,i.Y)(c.PreviewButton,{elementDescriptor:r.descriptors.organizationSwitcherPreviewButton,icon:p.yO,onClick:x?()=>n(x):void 0,role:"menuitem",children:(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherListedOrganization",organization:d,sx:o=>({color:o.colors.$colorTextSecondary,":hover":{color:o.colors.$colorTextSecondary}})})}):(0,i.Y)(w,{publicOrganizationData:d,children:(0,i.Y)(k,{onAccept:()=>g.runAsync((async()=>[await s(),await h(d.id)])).then((([o,e])=>{var t;null===(t=null==b?void 0:b.setData)||void 0===t||t.call(b,(e=>(0,z.l_)(o,e,"negative"))),f((t=>[...t,{organization:e,invitation:o}]))})).catch((o=>(0,v.H4)(o,[],g.setError)))})})})),f=o=>{const{showBorder:e,...t}=o;return(0,i.Y)(c.Actions,{role:"menu",...t})},x=(0,c.withCardStateProvider)((o=>(0,i.Y)(w,{publicOrganizationData:o.publicOrganizationData,children:(0,i.Y)(b,{...o})}))),_=o=>{var e,t;const{onOrganizationClick:n}=o,{ref:a,userSuggestions:c,userInvitations:d}=(()=>{const{userInvitations:o,userSuggestions:e}=(0,l.D_)(z.mu),{ref:t}=(0,s.Wx)({threshold:0,onChange:t=>{var i,n;t&&(o.hasNextPage?null===(i=o.fetchNext)||void 0===i||i.call(o):null===(n=e.fetchNext)||void 0===n||n.call(e))}});return{userInvitations:o,userSuggestions:e,ref:t}})(),g=d.isLoading||c.isLoading,p=d.hasNextPage||c.hasNextPage,h=(null===(e=d.data)||void 0===e?void 0:e.filter((o=>!!o)))||[],v=(null===(t=c.data)||void 0===t?void 0:t.filter((o=>!!o)))||[],b=h.length>0||v.length>0;return b||g?(0,i.Y)(f,{showBorder:b||g,elementDescriptor:r.descriptors.organizationSwitcherPopoverInvitationActions,children:(0,i.FD)(r.Box,{sx:o=>({maxHeight:`calc(4 * ${o.sizes.$17} + 4px)`,overflowY:"auto",...m.common.unstyledScrollbar(o)}),children:[null==h?void 0:h.map((o=>(0,i.Y)(S,{invitation:o,onOrganizationClick:n},o.id))),!d.hasNextPage&&(null==v?void 0:v.map((o=>(0,i.Y)(x,{...o},o.id)))),(p||g)&&(0,i.Y)(u.UG,{ref:a})]})}):null},y=o=>{const{onPersonalWorkspaceClick:e,onOrganizationClick:t}=o,{hidePersonal:n}=(0,a.useOrganizationSwitcherContext)(),{organization:d}=(0,l.Z5)(),{ref:g,userMemberships:h}=(()=>{const{userMemberships:o}=(0,l.D_)({userMemberships:z.mu.userMemberships}),{ref:e}=(0,s.Wx)({threshold:0,onChange:e=>{var t;e&&o.hasNextPage&&(null===(t=o.fetchNext)||void 0===t||t.call(o))}});return{userMemberships:o,ref:e}})(),{user:v}=(0,l.Jd)(),b=((h.count||0)>0&&h.data||[]).map((o=>o.organization)).filter((o=>o.id!==(null==d?void 0:d.id)));if(!v)return null;const{username:k,primaryEmailAddress:w,primaryPhoneNumber:S,...f}=v,{isLoading:x,hasNextPage:_}=h;return(0,i.FD)(r.Box,{sx:o=>({maxHeight:`calc((4 * ${o.sizes.$17}) + 4px)`,overflowY:"auto","> button,div":{border:`0 solid ${o.colors.$neutralAlpha100}`},">:not([hidden])~:not([hidden])":{borderTopWidth:"1px",borderBottomWidth:"0"},...m.common.unstyledScrollbar(o)}),role:"group","aria-label":n?"List of all organization memberships":"List of all accounts",children:[d&&!n&&(0,i.Y)(c.PreviewButton,{elementDescriptor:r.descriptors.organizationSwitcherPreviewButton,icon:p.yO,onClick:e,role:"menuitem",children:(0,i.Y)(c.PersonalWorkspacePreview,{user:f,mainIdentifierVariant:"buttonLarge",title:(0,r.localizationKeys)("organizationSwitcher.personalWorkspace")})}),b.map((o=>(0,i.Y)(c.PreviewButton,{elementDescriptor:r.descriptors.organizationSwitcherPreviewButton,icon:p.yO,onClick:()=>t(o),role:"menuitem",sx:o=>({border:`0 solid ${o.colors.$neutralAlpha100}`}),children:(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherListedOrganization",organization:o})},o.id))),(_||x)&&(0,i.Y)(u.UG,{ref:g})]})},O=({onCreateOrganizationClick:o})=>{const{user:e}=(0,l.Jd)();return(null==e?void 0:e.createOrganizationEnabled)?(0,i.Y)(c.Action,{elementDescriptor:r.descriptors.organizationSwitcherPopoverActionButton,elementId:r.descriptors.organizationSwitcherPopoverActionButton.setId("createOrganization"),iconBoxElementDescriptor:r.descriptors.organizationSwitcherPopoverActionButtonIconBox,iconBoxElementId:r.descriptors.organizationSwitcherPopoverActionButtonIconBox.setId("createOrganization"),iconElementDescriptor:r.descriptors.organizationSwitcherPopoverActionButtonIcon,iconElementId:r.descriptors.organizationSwitcherPopoverActionButtonIcon.setId("createOrganization"),icon:p.OM,label:(0,r.localizationKeys)("organizationSwitcher.action__createOrganization"),onClick:o,sx:o=>({padding:`${o.space.$5} ${o.space.$5}`}),iconSx:o=>({width:o.sizes.$9,height:o.sizes.$6}),iconBoxSx:o=>({width:o.sizes.$9,height:o.sizes.$6}),spinnerSize:"sm"}):null},P=o=>{const{onCreateOrganizationClick:e,onPersonalWorkspaceClick:t,onOrganizationClick:n}=o;return(0,i.FD)(i.FK,{children:[(0,i.Y)(_,{onOrganizationClick:n}),(0,i.Y)(y,{onPersonalWorkspaceClick:t,onOrganizationClick:n}),(0,i.Y)(O,{onCreateOrganizationClick:e})]})},C=n.forwardRef(((o,e)=>{const{close:t,...n}=o,s=()=>null==t?void 0:t(!1),u=(0,c.useCardState)(),{__experimental_asStandalone:m}=(0,a.useOrganizationSwitcherContext)(),{openOrganizationProfile:v,openCreateOrganization:z}=(0,l.ho)(),{organization:b}=(0,l.Z5)(),{isLoaded:k,setActive:w}=(0,l.D_)(),S=(0,h.useRouter)(),{hidePersonal:f,__unstable_manageBillingUrl:x,__unstable_manageBillingLabel:_,__unstable_manageBillingMembersLimit:y,createOrganizationMode:O,organizationProfileMode:C,afterLeaveOrganizationUrl:I,afterCreateOrganizationUrl:A,navigateCreateOrganization:Y,navigateOrganizationProfile:B,navigateAfterSelectPersonal:D,navigateAfterSelectOrganization:U,organizationProfileProps:L,skipInvitationScreen:F,hideSlug:E}=(0,a.useOrganizationSwitcherContext)(),{user:M}=(0,l.Jd)();if(!M)return null;const{username:W,primaryEmailAddress:T,primaryPhoneNumber:K,...R}=M;if(!k)return null;const N=(0,i.Y)(c.SmallAction,{elementDescriptor:r.descriptors.organizationSwitcherPopoverActionButton,elementId:r.descriptors.organizationSwitcherPopoverActionButton.setId("manageOrganization"),iconBoxElementDescriptor:r.descriptors.organizationSwitcherPopoverActionButtonIconBox,iconBoxElementId:r.descriptors.organizationSwitcherPopoverActionButtonIconBox.setId("manageOrganization"),iconElementDescriptor:r.descriptors.organizationSwitcherPopoverActionButtonIcon,iconElementId:r.descriptors.organizationSwitcherPopoverActionButtonIcon.setId("manageOrganization"),icon:p.Ko,label:(0,r.localizationKeys)("organizationSwitcher.action__manageOrganization"),onClick:()=>(s(),"navigation"===C?B():v({...L,afterLeaveOrganizationUrl:I,__unstable_manageBillingUrl:x,__unstable_manageBillingLabel:_,__unstable_manageBillingMembersLimit:y})),trailing:(0,i.Y)($,{})}),G=(0,i.Y)(c.SmallAction,{icon:p.ik,label:(0,d.Mo)(_)||"Upgrade",onClick:()=>S.navigate((0,d.Mo)(x))});return(0,i.Y)(g.M,{elementDescriptor:r.descriptors.organizationSwitcherPopoverRootBox,children:(0,i.FD)(c.PopoverCard.Root,{elementDescriptor:r.descriptors.organizationSwitcherPopoverCard,ref:e,role:"dialog","aria-label":`${null==b?void 0:b.name} is active`,shouldEntryAnimate:!m,...n,children:[(0,i.Y)(c.PopoverCard.Content,{elementDescriptor:r.descriptors.organizationSwitcherPopoverMain,children:(0,i.FD)(c.Actions,{elementDescriptor:r.descriptors.organizationSwitcherPopoverActions,role:"menu",children:[b?(o=>x?(0,i.FD)(i.FK,{children:[(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherActiveOrganization",organization:o,user:M,fetchRoles:!0,mainIdentifierVariant:"buttonLarge",sx:o=>({padding:`${o.space.$4} ${o.space.$5}`})}),(0,i.Y)(c.Actions,{role:"menu",sx:o=>({borderBottomWidth:o.borderWidths.$normal,borderBottomStyle:o.borderStyles.$solid,borderBottomColor:o.colors.$neutralAlpha100}),children:(0,i.FD)(r.Flex,{justify:"between",sx:o=>({marginLeft:o.space.$12,padding:`0 ${o.space.$5} ${o.space.$4}`,gap:o.space.$2}),children:[N,G]})})]}):(0,i.FD)(r.Flex,{justify:"between",align:"center",sx:o=>({width:"100%",paddingRight:o.space.$5}),children:[(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherActiveOrganization",organization:o,user:M,fetchRoles:!0,mainIdentifierVariant:"buttonLarge",sx:o=>({padding:`${o.space.$4} ${o.space.$5}`})}),(0,i.Y)(c.Actions,{role:"menu",children:N})]}))(b):!f&&(0,i.Y)(c.PersonalWorkspacePreview,{user:R,sx:o=>({padding:`${o.space.$4} ${o.space.$5}`,width:"100%"}),title:(0,r.localizationKeys)("organizationSwitcher.personalWorkspace")}),(0,i.Y)(P,{onCreateOrganizationClick:()=>(s(),"navigation"===O?Y():z({afterCreateOrganizationUrl:A,skipInvitationScreen:F,hideSlug:E})),onPersonalWorkspaceClick:()=>u.runAsync((()=>w({organization:null,beforeEmit:()=>D(M)}))).then(s),onOrganizationClick:o=>u.runAsync((()=>w({organization:o,beforeEmit:()=>U(o)}))).then(s)})]})}),(0,i.Y)(c.PopoverCard.Footer,{elementDescriptor:r.descriptors.organizationSwitcherPopoverFooter})]})})})),$=(0,u.cb)((({sx:o})=>{var e;const{organizationSettings:t}=(0,a.useEnvironment)(),n=null===(e=null==t?void 0:t.domains)||void 0===e?void 0:e.enabled,{membershipRequests:r}=(0,l.Z5)({membershipRequests:n||void 0});return(null==r?void 0:r.count)?(0,i.Y)(u.am,{notificationCount:r.count,containerSx:o}):null}),{permission:"org:sys_memberships:manage"}),I=(0,c.withAvatarShimmer)((0,n.forwardRef)(((o,e)=>{const{sx:t,...n}=o,{user:s}=(0,l.Jd)(),{organization:d}=(0,l.Z5)(),{hidePersonal:u}=(0,a.useOrganizationSwitcherContext)();if(!s)return null;const{username:g,primaryEmailAddress:h,primaryPhoneNumber:m,...v}=s;return(0,i.FD)(r.Button,{elementDescriptor:r.descriptors.organizationSwitcherTrigger,variant:"ghost",colorScheme:"neutral",hoverAsFocus:!0,focusRing:!1,sx:[o=>({padding:`${o.space.$1} ${o.space.$2}`,position:"relative"}),t],ref:e,"aria-label":(o.isOpen?"Close":"Open")+" organization switcher","aria-expanded":o.isOpen,"aria-haspopup":"dialog",...n,children:[d&&(0,i.Y)(c.OrganizationPreview,{elementId:"organizationSwitcherTrigger",gap:3,size:"xs",fetchRoles:!0,organization:d,sx:{maxWidth:"30ch"}}),!d&&(0,i.Y)(c.PersonalWorkspacePreview,{size:"xs",gap:3,user:v,showAvatar:!u,sx:o=>({color:o.colors.$colorTextSecondary}),title:u?(0,r.localizationKeys)("organizationSwitcher.notSelected"):(0,r.localizationKeys)("organizationSwitcher.personalWorkspace")}),(0,i.Y)(A,{}),(0,i.Y)(r.Icon,{elementDescriptor:r.descriptors.organizationSwitcherTriggerIcon,icon:p.yQ,sx:o=>({marginLeft:`${o.space.$2}`})})]})}))),A=()=>{var o;const{userInvitations:e,userSuggestions:t}=(0,l.D_)(z.mu),{organizationSettings:n}=(0,a.useEnvironment)(),r=(0,u.Fd)({permission:"org:sys_memberships:manage"}),c=null===(o=null==n?void 0:n.domains)||void 0===o?void 0:o.enabled,{membershipRequests:s}=(0,l.Z5)({membershipRequests:c&&r||void 0}),d=(e.count||0)+(t.count||0)+((null==s?void 0:s.count)||0);return d?(0,i.Y)(u.am,{containerSx:o=>({position:"absolute",top:`-${o.space.$2}`,right:`-${o.space.$2}`}),notificationCount:d}):null},Y=(0,c.withFloatingTree)((({children:o})=>{const{defaultOpen:e}=(0,a.useOrganizationSwitcherContext)(),{floating:t,reference:r,styles:l,toggle:d,isOpen:u,nodeId:g,context:p}=(0,s.fP)({defaultOpen:e,placement:"bottom-start",offset:8}),h=(0,n.useId)();return(0,i.FD)(i.FK,{children:[(0,i.Y)(I,{ref:r,onClick:d,isOpen:u,"aria-controls":u?h:void 0,"aria-expanded":u}),(0,i.Y)(c.Popover,{nodeId:g,context:p,isOpen:u,children:(0,n.cloneElement)(o,{id:h,close:d,ref:t,style:l})})]})})),B=(0,a.withCoreUserGuard)((0,c.withCardStateProvider)((()=>{const{__experimental_asStandalone:o}=(0,a.useOrganizationSwitcherContext)();return(0,i.Y)(r.Flow.Root,{flow:"organizationSwitcher",sx:{display:"inline-flex"},children:(0,i.Y)(a.AcceptedInvitationsProvider,{children:o?(0,i.Y)(C,{}):(0,i.Y)(Y,{children:(0,i.Y)(C,{})})})})})))},4683:function(o,e,t){t.d(e,{l_:function(){return n},mu:function(){return i}});const i={userMemberships:{infinite:!0},userInvitations:{infinite:!0},userSuggestions:{infinite:!0,status:["pending","accepted"]}},n=(o,e,t)=>{var i;if(void 0===e)return[{data:[o],total_count:1}];const n=(null===(i=null==e?void 0:e[e.length-1])||void 0===i?void 0:i.total_count)||1;return e.map((e=>{if(void 0===e)return e;const i=e.data.map((e=>e.id===o.id?{...o}:e));return{...e,data:i,total_count:"negative"===t?n-1:n}}))}},7007:function(o,e,t){t.d(e,{Re:function(){return n},XW:function(){return a},zN:function(){return i}});var i=[{provider:"google",strategy:"oauth_google",name:"Google",docsUrl:"https://clerk.com/docs/authentication/social-connections/google"},{provider:"discord",strategy:"oauth_discord",name:"Discord",docsUrl:"https://clerk.com/docs/authentication/social-connections/discord"},{provider:"facebook",strategy:"oauth_facebook",name:"Facebook",docsUrl:"https://clerk.com/docs/authentication/social-connections/facebook"},{provider:"twitch",strategy:"oauth_twitch",name:"Twitch",docsUrl:"https://clerk.com/docs/authentication/social-connections/twitch"},{provider:"twitter",strategy:"oauth_twitter",name:"Twitter",docsUrl:"https://clerk.com/docs/authentication/social-connections/twitter"},{provider:"microsoft",strategy:"oauth_microsoft",name:"Microsoft",docsUrl:"https://clerk.com/docs/authentication/social-connections/microsoft"},{provider:"tiktok",strategy:"oauth_tiktok",name:"TikTok",docsUrl:"https://clerk.com/docs/authentication/social-connections/tiktok"},{provider:"linkedin",strategy:"oauth_linkedin",name:"LinkedIn",docsUrl:"https://clerk.com/docs/authentication/social-connections/linkedin"},{provider:"linkedin_oidc",strategy:"oauth_linkedin_oidc",name:"LinkedIn",docsUrl:"https://clerk.com/docs/authentication/social-connections/linkedin-oidc"},{provider:"github",strategy:"oauth_github",name:"GitHub",docsUrl:"https://clerk.com/docs/authentication/social-connections/github"},{provider:"gitlab",strategy:"oauth_gitlab",name:"GitLab",docsUrl:"https://clerk.com/docs/authentication/social-connections/gitlab"},{provider:"dropbox",strategy:"oauth_dropbox",name:"Dropbox",docsUrl:"https://clerk.com/docs/authentication/social-connections/dropbox"},{provider:"atlassian",strategy:"oauth_atlassian",name:"Atlassian",docsUrl:"https://clerk.com/docs/authentication/social-connections/atlassian"},{provider:"bitbucket",strategy:"oauth_bitbucket",name:"Bitbucket",docsUrl:"https://clerk.com/docs/authentication/social-connections/bitbucket"},{provider:"hubspot",strategy:"oauth_hubspot",name:"HubSpot",docsUrl:"https://clerk.com/docs/authentication/social-connections/hubspot"},{provider:"notion",strategy:"oauth_notion",name:"Notion",docsUrl:"https://clerk.com/docs/authentication/social-connections/notion"},{provider:"apple",strategy:"oauth_apple",name:"Apple",docsUrl:"https://clerk.com/docs/authentication/social-connections/apple"},{provider:"line",strategy:"oauth_line",name:"LINE",docsUrl:"https://clerk.com/docs/authentication/social-connections/line"},{provider:"instagram",strategy:"oauth_instagram",name:"Instagram",docsUrl:"https://clerk.com/docs/authentication/social-connections/instagram"},{provider:"coinbase",strategy:"oauth_coinbase",name:"Coinbase",docsUrl:"https://clerk.com/docs/authentication/social-connections/coinbase"},{provider:"spotify",strategy:"oauth_spotify",name:"Spotify",docsUrl:"https://clerk.com/docs/authentication/social-connections/spotify"},{provider:"xero",strategy:"oauth_xero",name:"Xero",docsUrl:"https://clerk.com/docs/authentication/social-connections/xero"},{provider:"box",strategy:"oauth_box",name:"Box",docsUrl:"https://clerk.com/docs/authentication/social-connections/box"},{provider:"slack",strategy:"oauth_slack",name:"Slack",docsUrl:"https://clerk.com/docs/authentication/social-connections/slack"},{provider:"linear",strategy:"oauth_linear",name:"Linear",docsUrl:"https://clerk.com/docs/authentication/social-connections/linear"},{provider:"x",strategy:"oauth_x",name:"X / Twitter",docsUrl:"https://clerk.com/docs/authentication/social-connections/x-twitter-v2"},{provider:"enstall",strategy:"oauth_enstall",name:"Enstall",docsUrl:"https://clerk.com/docs/authentication/social-connections/enstall"},{provider:"huggingface",strategy:"oauth_huggingface",name:"Hugging Face",docsUrl:"https://clerk.com/docs/authentication/social-connections/huggingface"}],n={saml_okta:{name:"Okta Workforce",logo:"okta"},saml_google:{name:"Google Workspace",logo:"google"},saml_microsoft:{name:"Microsoft Entra ID (Formerly AD)",logo:"azure"},saml_custom:{name:"SAML",logo:"saml"}},a=[{provider:"metamask",strategy:"web3_metamask_signature",name:"MetaMask"},{provider:"coinbase_wallet",strategy:"web3_coinbase_wallet_signature",name:"Coinbase Wallet"}]},4814:function(o,e,t){t.d(e,{at:function(){return i.at}});var i=t(371);t(3781)}}]);