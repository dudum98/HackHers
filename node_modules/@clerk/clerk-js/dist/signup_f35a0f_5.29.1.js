"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[787,644,263,882,501],{1932:function(e,t,i){i.r(t),i.d(t,{SignUp:function(){return W},SignUpModal:function(){return V}});var a=i(4380),r=i(3931),o=i(4041),n=i(9251),s=i(844),l=i(9333),c=i(166),d=i(8369),u=i(1241),p=i(9927),m=i(8436),h=i(3965);const g=e=>{var t,i,r,o,n,s,c,u,p,g,f,v,_,b;const{handleSubmit:y,fields:U,formState:A,canToggleEmailPhone:k,onlyLegalAcceptedMissing:C=!1,handleEmailPhoneToggle:S}=e,{showOptionalFields:F}=(0,l.useAppearance)().parsedLayout,w=e=>{var t;return"emailAddress"!==e&&"phoneNumber"!==e||!k?!!U[e]&&(F||(null===(t=U[e])||void 0===t?void 0:t.required)):!!U[e]};return(0,a.FD)(d.Form.Root,{onSubmit:y,gap:8,children:[!C&&(0,a.FD)(l.Col,{gap:6,children:[(w("firstName")||w("lastName"))&&(0,a.FD)(d.Form.ControlRow,{elementId:"name",sx:{[h.mqu.sm]:{flexWrap:"wrap"}},children:[w("firstName")&&(0,a.Y)(d.Form.PlainInput,{...A.firstName.props,isRequired:null===(t=U.firstName)||void 0===t?void 0:t.required,isOptional:!(null===(i=U.firstName)||void 0===i?void 0:i.required)}),w("lastName")&&(0,a.Y)(d.Form.PlainInput,{...A.lastName.props,isRequired:null===(r=U.lastName)||void 0===r?void 0:r.required,isOptional:!(null===(o=U.lastName)||void 0===o?void 0:o.required)})]}),w("username")&&(0,a.Y)(d.Form.ControlRow,{elementId:"username",children:(0,a.Y)(d.Form.PlainInput,{...A.username.props,isRequired:null===(n=U.username)||void 0===n?void 0:n.required,isOptional:!(null===(s=U.username)||void 0===s?void 0:s.required)})}),w("emailAddress")&&(0,a.Y)(d.Form.ControlRow,{elementId:"emailAddress",children:(0,a.Y)(d.Form.PlainInput,{...A.emailAddress.props,isRequired:null===(c=U.emailAddress)||void 0===c?void 0:c.required,isOptional:!(null===(u=U.emailAddress)||void 0===u?void 0:u.required),isDisabled:null===(p=U.emailAddress)||void 0===p?void 0:p.disabled,actionLabel:k?(0,l.localizationKeys)("signUp.start.actionLink__use_phone"):void 0,onActionClicked:k?()=>S("phoneNumber"):void 0})}),w("phoneNumber")&&(0,a.Y)(d.Form.ControlRow,{elementId:"phoneNumber",children:(0,a.Y)(d.Form.PhoneInput,{...A.phoneNumber.props,isRequired:null===(g=U.phoneNumber)||void 0===g?void 0:g.required,isOptional:!(null===(f=U.phoneNumber)||void 0===f?void 0:f.required),actionLabel:k?(0,l.localizationKeys)("signUp.start.actionLink__use_email"):void 0,onActionClicked:k?()=>S("emailAddress"):void 0})}),w("password")&&(0,a.Y)(d.Form.ControlRow,{elementId:"password",children:(0,a.Y)(d.Form.PasswordInput,{...A.password.props,isRequired:null===(v=U.password)||void 0===v?void 0:v.required,isOptional:!(null===(_=U.password)||void 0===_?void 0:_.required)})})]}),(0,a.FD)(l.Col,{center:!0,children:[(0,a.Y)(m.j,{}),(0,a.FD)(l.Col,{gap:6,sx:{width:"100%"},children:[w("__experimental_legalAccepted")&&(0,a.Y)(d.Form.ControlRow,{elementId:"__experimental_legalAccepted",children:(0,a.Y)(d.LegalCheckbox,{...A.__experimental_legalAccepted.props,isRequired:null===(b=U.__experimental_legalAccepted)||void 0===b?void 0:b.required})}),(0,a.Y)(d.Form.SubmitButton,{hasArrow:!0,localizationKey:(0,l.localizationKeys)("formButtonPrimary")})]})]})]})};var f=i(8174);const v=["emailAddress","phoneNumber","username","firstName","lastName","password","ticket","__experimental_legalAccepted"];function _(e){return v.reduce(((t,i)=>{const a=function(e,t){switch(e){case"emailAddress":return function({attributes:e,hasTicket:t,hasEmail:i,activeCommIdentifierType:a,isProgressiveSignUp:r}){if(r){if(!(!t||t&&i)||!e.email_address.enabled)return;if(y(e,r)&&"emailAddress"!==a)return;return{required:e.email_address.required,disabled:!!t&&!!i}}if((!t||t&&i)&&e.email_address.enabled&&e.email_address.used_for_first_factor&&"emailAddress"===a)return{required:!0,disabled:!!t&&!!i}}(t);case"phoneNumber":return function({attributes:e,hasTicket:t,activeCommIdentifierType:i,isProgressiveSignUp:a}){if(a){if(!e.phone_number.enabled)return;if(y(e,a)&&"phoneNumber"!==i)return;return{required:e.phone_number.required}}if(!t&&e.phone_number.enabled&&e.phone_number.used_for_first_factor&&"phoneNumber"===i)return{required:!0}}(t);case"password":return function(e){if(e.password.enabled&&e.password.required)return{required:e.password.required}}(t.attributes);case"ticket":return function(e){if(e)return{required:!0}}(t.hasTicket);case"__experimental_legalAccepted":return function(e){if(e)return{required:!0}}(t.legalConsentRequired);case"username":case"firstName":case"lastName":return function(e,t){const i=(0,f.C8)(e);if(t[i].enabled)return{required:t[i].required}}(e,t.attributes);default:return}}(i,e);return a&&(t[i]=a),t}),{})}const b=(e,t)=>{if(y(e,t))return"emailAddress";const{email_address:i,phone_number:a}=e;return(i.enabled&&t?i.required:i.used_for_first_factor)?"emailAddress":(a.enabled&&t?a.required:a.used_for_first_factor)?"phoneNumber":null};function y(e,t){const{email_address:i,phone_number:a}=e;return t?i.enabled&&a.enabled&&!i.required&&!a.required:i.used_for_first_factor&&a.used_for_first_factor}var U=i(7453),A=i(9351),k=i(5675);const C=o.memo((e=>{const t=(0,r.ho)(),{navigate:i}=(0,c.useRouter)(),o=(0,d.useCardState)(),{displayConfig:n}=(0,A.O)(),l=(0,s.useSignUpContext)(),u=(0,s.useCoreSignUp)(),m=(0,U.u)(l,n.signUpUrl),h=l.afterSignUpUrl||"/",{continueSignUp:g=!1,...f}=e;return(0,a.Y)(k.V,{...f,oauthCallback:t=>u.authenticateWithRedirect({continueSignUp:g,redirectUrl:m,redirectUrlComplete:h,strategy:t,unsafeMetadata:l.unsafeMetadata,__experimental_legalAccepted:e.legalAccepted}).catch((e=>(0,p.H4)(e,[],o.setError))),web3Callback:a=>t.authenticateWithWeb3({customNavigate:i,redirectUrl:h,signUpContinueUrl:"continue",unsafeMetadata:l.unsafeMetadata,strategy:a,__experimental_legalAccepted:e.legalAccepted}).catch((e=>(0,p.H4)(e,[],o.setError)))})}));var S=i(8356);const F=(0,d.withCardStateProvider)((function(){var e,t,i,n;const m=(0,u.f0)(),h=(0,r.ho)(),{navigate:f}=(0,c.useRouter)(),{displayConfig:v,userSettings:U}=(0,s.useEnvironment)(),{attributes:A}=U,{navigateAfterSignUp:k,signInUrl:F,unsafeMetadata:w,initialValues:N={}}=(0,s.useSignUpContext)(),Y=(0,s.useCoreSignUp)(),E=U.signUp.progressive,[z,K]=o.useState(b(A,U.signUp.progressive)),P={firstName:(0,p.tJ)("firstName",N.firstName||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__firstName"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__firstName")}),lastName:(0,p.tJ)("lastName",N.lastName||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__lastName"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__lastName")}),emailAddress:(0,p.tJ)("emailAddress",N.emailAddress||"",{type:"email",label:(0,l.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__emailAddress")}),username:(0,p.tJ)("username",N.username||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__username"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__username")}),phoneNumber:(0,p.tJ)("phoneNumber",N.phoneNumber||"",{type:"tel",label:(0,l.localizationKeys)("formFieldLabel__phoneNumber"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__phoneNumber")}),password:(0,p.tJ)("password","",{type:"password",label:(0,l.localizationKeys)("formFieldLabel__password"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__password"),validatePassword:!0}),__experimental_legalAccepted:(0,p.tJ)("__experimental_legalAccepted","",{type:"checkbox",label:"",defaultChecked:!1,isRequired:U.signUp.legal_consent_enabled||!1})},x=(0,o.useMemo)((()=>Y.missingFields&&1===Y.missingFields.length&&"legal_accepted"===Y.missingFields[0]),[Y.missingFields]);if(!Y.id)return f(v.signUpUrl),(0,a.Y)(d.LoadingCard,{});const I=!!P.emailAddress.value,L="verified"==(null===(t=null===(e=Y.verifications)||void 0===e?void 0:e.externalAccount)||void 0===t?void 0:t.status),R="verified"==(null===(n=null===(i=Y.verifications)||void 0===i?void 0:i.web3Wallet)||void 0===n?void 0:n.status),T=_({attributes:A,hasEmail:I,activeCommIdentifierType:z,signUp:Y,isProgressiveSignUp:E,legalConsentRequired:U.signUp.legal_consent_enabled});!function(e,t){var i,a,r,o,n,s,l,c;if(t){const d=!!t.emailAddress,u="verified"===(null===(a=null===(i=t.verifications)||void 0===i?void 0:i.emailAddress)||void 0===a?void 0:a.status),p="verified"===(null===(o=null===(r=t.verifications)||void 0===r?void 0:r.phoneNumber)||void 0===o?void 0:o.status),m="verified"===(null===(s=null===(n=t.verifications)||void 0===n?void 0:n.externalAccount)||void 0===s?void 0:s.status),h="verified"===(null===(c=null===(l=t.verifications)||void 0===l?void 0:l.web3Wallet)||void 0===c?void 0:c.status),g=null!==t.legalAcceptedAt;d&&u&&delete e.emailAddress,p&&delete e.phoneNumber,(m||h)&&delete e.password,t.firstName&&delete e.firstName,t.lastName&&delete e.lastName,t.username&&delete e.username,g&&delete e.__experimental_legalAccepted,Object.entries(e).forEach((([t,i])=>{i&&!i.required&&delete e[t]}))}}(T,Y);const q=U.authenticatableSocialStrategies,D=U.web3FirstFactors,O=y(A,E),H=!L&&q.length>0,M=!R&&D.length>0,B=x?(0,l.localizationKeys)("signUp.__experimental_legalConsent.continue.title"):(0,l.localizationKeys)("signUp.continue.title"),W=x?(0,l.localizationKeys)("signUp.__experimental_legalConsent.continue.subtitle"):(0,l.localizationKeys)("signUp.continue.subtitle");return(0,a.Y)(l.Flow.Part,{part:"complete",children:(0,a.FD)(d.Card.Root,{children:[(0,a.FD)(d.Card.Content,{children:[(0,a.FD)(d.Header.Root,{showLogo:!0,children:[(0,a.Y)(d.Header.Title,{localizationKey:B}),(0,a.Y)(d.Header.Subtitle,{localizationKey:W})]}),(0,a.Y)(d.Card.Alert,{children:m.error}),(0,a.Y)(l.Flex,{direction:"col",elementDescriptor:l.descriptors.main,gap:8,children:(0,a.FD)(d.SocialButtonsReversibleContainerWithDivider,{children:[(H||M)&&!x&&(0,a.Y)(C,{enableOAuthProviders:H,enableWeb3Providers:M,continueSignUp:!0}),(0,a.Y)(g,{handleSubmit:async e=>{var t,i;e.preventDefault();const a=Object.entries(T).reduce(((e,[t,i])=>[...e,...i&&P[t]?[P[t]]:[]]),[]);w&&a.push({id:"unsafeMetadata",value:w});const r=!!(null===(t=a.find((e=>"emailAddress"===e.id)))||void 0===t?void 0:t.value),o=!!(null===(i=a.find((e=>"phoneNumber"===e.id)))||void 0===i?void 0:i.value);return Y.missingFields.includes("email_address")&&Y.missingFields.includes("phone_number")&&!r&&!o&&y(A,E)&&(a.push(P.emailAddress),a.push(P.phoneNumber)),m.setLoading(),m.setError(void 0),Y.update((0,p.mK)(a)).then((e=>(0,S.A)({signUp:e,verifyEmailPath:"./verify-email-address",verifyPhonePath:"./verify-phone-number",handleComplete:()=>h.setActive({session:e.createdSessionId,beforeEmit:k}),navigate:f}))).catch((e=>(0,p.H4)(e,a,m.setError))).finally((()=>m.setIdle()))},fields:T,formState:P,onlyLegalAcceptedMissing:x,canToggleEmailPhone:O,handleEmailPhoneToggle:e=>{y(A,E)&&K(e)}})]})})]}),(0,a.Y)(d.Card.Footer,{children:(0,a.FD)(d.Card.Action,{elementId:"signUp",children:[(0,a.Y)(d.Card.ActionText,{localizationKey:(0,l.localizationKeys)("signUp.continue.actionText")}),(0,a.Y)(d.Card.ActionLink,{localizationKey:(0,l.localizationKeys)("signUp.continue.actionLink"),to:h.buildUrlWithAuth(F)})]})})]})})}));var w=i(7362);const N=(0,w.Ai)(w.Fv);var Y=i(6480),E=i(4927),z=i(5909),K=i(1101),P=i(8313);const x=()=>{const e=(0,r.ho)(),t=(0,u.f0)(),{signInUrl:i}=(0,s.useSignUpContext)(),o=(0,K.p)();return(0,a.FD)(d.Card.Root,{children:[(0,a.FD)(d.Card.Content,{children:[(0,a.FD)(d.Header.Root,{showLogo:!0,children:[(0,a.Y)(l.Icon,{icon:P.eB,sx:e=>({margin:"auto",width:e.sizes.$10,height:e.sizes.$10})}),(0,a.Y)(d.Header.Title,{localizationKey:(0,l.localizationKeys)("signUp.restrictedAccess.title")}),(0,a.Y)(d.Header.Subtitle,{localizationKey:(0,l.localizationKeys)("signUp.restrictedAccess.subtitle")})]}),(0,a.Y)(d.Card.Alert,{children:t.error}),o&&(0,a.Y)(l.Flex,{direction:"col",gap:4,children:(0,a.Y)(l.Button,{localizationKey:(0,l.localizationKeys)("signUp.restrictedAccess.blockButton__emailSupport"),onClick:()=>{window.location.href=`mailto:${o}`},hasArrow:!0})})]}),(0,a.Y)(d.Card.Footer,{children:(0,a.FD)(d.Card.Action,{elementId:"signUp",children:[(0,a.Y)(d.Card.ActionText,{localizationKey:(0,l.localizationKeys)("signUp.restrictedAccess.actionText")}),(0,a.Y)(d.Card.ActionLink,{localizationKey:(0,l.localizationKeys)("signUp.restrictedAccess.actionLink"),to:e.buildUrlWithAuth(i)})]})})]})},I=(0,w.Ai)((0,d.withCardStateProvider)((function(){var e;const t=(0,u.f0)(),i=(0,r.ho)(),n=(0,z.mN)(),h=(0,s.useCoreSignUp)(),{showOptionalFields:f}=(0,l.useAppearance)().parsedLayout,{userSettings:v,displayConfig:U}=(0,s.useEnvironment)(),{navigate:A}=(0,c.useRouter)(),{attributes:k}=v,{setActive:F}=(0,r.ho)(),N=(0,s.useSignUpContext)(),{navigateAfterSignUp:K,signInUrl:P,unsafeMetadata:I}=N,[L,R]=o.useState(b(k,v.signUp.progressive)),{t:T,locale:q}=(0,l.useLocalizations)(),D=N.initialValues||{},[O,H]=o.useState(!1),{userSettings:{passwordSettings:M}}=(0,s.useEnvironment)(),{mode:B}=v.signUp,W={firstName:(0,p.tJ)("firstName",h.firstName||D.firstName||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__firstName"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__firstName")}),lastName:(0,p.tJ)("lastName",h.lastName||D.lastName||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__lastName"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__lastName")}),emailAddress:(0,p.tJ)("emailAddress",h.emailAddress||D.emailAddress||"",{type:"email",label:(0,l.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__emailAddress")}),username:(0,p.tJ)("username",h.username||D.username||"",{type:"text",label:(0,l.localizationKeys)("formFieldLabel__username"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__username"),transformer:e=>e.trim()}),phoneNumber:(0,p.tJ)("phoneNumber",h.phoneNumber||D.phoneNumber||"",{type:"tel",label:(0,l.localizationKeys)("formFieldLabel__phoneNumber"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__phoneNumber")}),__experimental_legalAccepted:(0,p.tJ)("__experimental_legalAccepted","",{type:"checkbox",label:"",defaultChecked:!1,isRequired:v.signUp.legal_consent_enabled||!1}),password:(0,p.tJ)("password","",{type:"password",label:(0,l.localizationKeys)("formFieldLabel__password"),placeholder:(0,l.localizationKeys)("formFieldInputPlaceholder__password"),validatePassword:!0,buildErrorMessage:e=>(0,p.C5)(e,{t:T,locale:q,passwordSettings:M})}),ticket:(0,p.tJ)("ticket",(0,E.h)("__clerk_ticket")||(0,E.h)("__clerk_invitation_token")||"")},V=!!W.ticket.value,J=!!W.emailAddress.value,j=v.signUp.progressive,G=v.signUp.legal_consent_enabled,Q=_({attributes:k,hasTicket:V,hasEmail:J,activeCommIdentifierType:L,isProgressiveSignUp:j,legalConsentRequired:G});if(o.useLayoutEffect((()=>{W.ticket.value&&(n.setLoading(),t.setLoading(),h.create({strategy:"ticket",ticket:W.ticket.value}).then((e=>(W.emailAddress.setValue(e.emailAddress||""),"missing_requirements"===e.status&&H(!0),(0,S.A)({signUp:e,verifyEmailPath:"verify-email-address",verifyPhonePath:"verify-phone-number",handleComplete:()=>((0,E.r)("__clerk_ticket"),(0,E.r)("__clerk_invitation_token"),F({session:e.createdSessionId,beforeEmit:K})),navigate:A})))).catch((e=>{W.ticket.setValue(""),(0,p.H4)(e,[],t.setError)})).finally((()=>{n.setIdle(),t.setIdle()})))}),[]),o.useEffect((()=>{!async function(){const e=h.verifications.externalAccount.error;if(e){switch(e.code){case Y.OQ.NOT_ALLOWED_TO_SIGN_UP:case Y.OQ.OAUTH_ACCESS_DENIED:case Y.OQ.NOT_ALLOWED_ACCESS:case Y.OQ.SAML_USER_ATTRIBUTE_MISSING:case Y.OQ.OAUTH_EMAIL_DOMAIN_RESERVED_BY_SAML:case Y.OQ.USER_LOCKED:t.setError(e);break;default:t.setError("Unable to complete action at this time. If the problem persists please contact support.")}await h.create({})}}()}),[]),n.isLoading)return(0,a.Y)(d.LoadingCard,{});const $=y(k,j),X=Object.entries(Q).filter((([e,t])=>f||(null==t?void 0:t.required))),Z=function(e){const{authenticatableSocialStrategies:t,web3FirstFactors:i}=e;return e.hasValidAuthFactor||!t.length&&!i.length}(v)&&X.length>0,ee=(!V||O)&&v.authenticatableSocialStrategies.length>0,te=!V&&v.web3FirstFactors.length>0;return B!==Y.P6.RESTRICTED||V?(0,a.Y)(l.Flow.Part,{part:"start",children:(0,a.FD)(d.Card.Root,{children:[(0,a.FD)(d.Card.Content,{children:[(0,a.FD)(d.Header.Root,{showLogo:!0,children:[(0,a.Y)(d.Header.Title,{localizationKey:(0,l.localizationKeys)("signUp.start.title")}),(0,a.Y)(d.Header.Subtitle,{localizationKey:(0,l.localizationKeys)("signUp.start.subtitle")})]}),(0,a.Y)(d.Card.Alert,{children:t.error}),(0,a.FD)(l.Flex,{direction:"col",elementDescriptor:l.descriptors.main,gap:6,children:[(0,a.FD)(d.SocialButtonsReversibleContainerWithDivider,{children:[(ee||te)&&(0,a.Y)(C,{enableOAuthProviders:ee,enableWeb3Providers:te,continueSignUp:O,legalAccepted:Boolean(W.__experimental_legalAccepted.checked)}),Z&&(0,a.Y)(g,{handleSubmit:async e=>{var i,a;e.preventDefault();const r=Object.entries(Q).reduce(((e,[t,i])=>(e.push(...i&&W[t]?[W[t]]:[]),e)),[]);if(I&&r.push({id:"unsafeMetadata",value:I}),Q.ticket){const e=()=>{};r.push({id:"strategy",value:"ticket",setValue:e,onChange:e,setError:e})}const o=!!(null===(i=r.find((e=>"emailAddress"===e.id)))||void 0===i?void 0:i.value),n=!!(null===(a=r.find((e=>"phoneNumber"===e.id)))||void 0===a?void 0:a.value);o||n||!y(k,j)||(r.push(W.emailAddress),r.push(W.phoneNumber)),t.setLoading(),t.setError(void 0);const s=(0,w.uP)(N,U.signUpUrl),l=N.afterSignUpUrl||"/";return h.create((0,p.mK)(r)).then((e=>(0,S.A)({signUp:e,verifyEmailPath:"verify-email-address",verifyPhonePath:"verify-phone-number",handleComplete:()=>F({session:e.createdSessionId,beforeEmit:K}),navigate:A,redirectUrl:s,redirectUrlComplete:l}))).catch((e=>(0,p.H4)(e,r,t.setError))).finally((()=>t.setIdle()))},fields:Q,formState:W,canToggleEmailPhone:$,handleEmailPhoneToggle:e=>{y(k,j)&&R(e)}})]}),!Z&&G&&(0,a.Y)(d.Form.ControlRow,{elementId:"__experimental_legalAccepted",children:(0,a.Y)(d.LegalCheckbox,{...W.__experimental_legalAccepted.props,isRequired:null===(e=Q.__experimental_legalAccepted)||void 0===e?void 0:e.required})}),!Z&&(0,a.Y)(m.j,{})]})]}),(0,a.Y)(d.Card.Footer,{children:(0,a.FD)(d.Card.Action,{elementId:"signUp",children:[(0,a.Y)(d.Card.ActionText,{localizationKey:(0,l.localizationKeys)("signUp.start.actionText")}),(0,a.Y)(d.Card.ActionLink,{localizationKey:(0,l.localizationKeys)("signUp.start.actionLink"),to:i.buildUrlWithAuth(P)})]})})]})}):(0,a.Y)(x,{})}))),L=e=>{const{navigateAfterSignUp:t}=(0,s.useSignUpContext)(),{setActive:i}=(0,r.ho)(),{navigate:o}=(0,c.useRouter)();return(0,a.Y)(d.VerificationCodeCard,{cardTitle:e.cardTitle,cardSubtitle:e.cardSubtitle,resendButton:e.resendButton,onCodeEntryFinishedAction:(a,r,n)=>{e.attempt(a).then((async e=>(await r(),(0,S.A)({signUp:e,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",handleComplete:()=>i({session:e.createdSessionId,beforeEmit:t}),navigate:o})))).catch((e=>n(e)))},onResendCodeClicked:e.prepare,safeIdentifier:e.safeIdentifier,onIdentityPreviewEditClicked:()=>o("../")})},R=()=>{const e=(0,s.useCoreSignUp)(),t=(0,d.useCardState)(),i=e.verifications.emailAddress.status,r=!e.status||"verified"===i;return(0,z.st)(r?void 0:()=>e.prepareEmailAddressVerification({strategy:"email_code"}).catch((e=>(0,p.H4)(e,[],t.setError))),{name:"prepare",strategy:"email_code",number:e.emailAddress},{staleTime:100}),(0,a.Y)(l.Flow.Part,{part:"emailCode",children:(0,a.Y)(L,{cardTitle:(0,l.localizationKeys)("signUp.emailCode.title"),cardSubtitle:(0,l.localizationKeys)("signUp.emailCode.subtitle"),inputLabel:(0,l.localizationKeys)("signUp.emailCode.formSubtitle"),resendButton:(0,l.localizationKeys)("signUp.emailCode.resendButton"),prepare:()=>{if(!r)return e.prepareEmailAddressVerification({strategy:"email_code"}).catch((e=>(0,p.H4)(e,[],t.setError)))},attempt:t=>e.attemptEmailAddressVerification({code:t}),safeIdentifier:e.emailAddress})})};var T=i(6910);const q=()=>{const{t:e}=(0,l.useLocalizations)(),t=(0,s.useCoreSignUp)(),i=(0,s.useSignUpContext)(),{navigateAfterSignUp:n}=i,m=(0,u.f0)(),{displayConfig:h}=(0,s.useEnvironment)(),{navigate:g}=(0,c.useRouter)(),{setActive:f}=(0,r.ho)(),[v,_]=o.useState(!1),{startEmailLinkFlow:b,cancelEmailLinkFlow:y}=(0,T.u)(t);o.useEffect((()=>{A()}),[]);const A=()=>b({redirectUrl:(0,U.W)(i,h.signUpUrl)}).then((e=>k(e))).catch((e=>{(0,p.H4)(e,[],m.setError)})),k=async t=>{const i=t.verifications.emailAddress;"expired"===i.status?m.setError(e((0,l.localizationKeys)("formFieldError__verificationLinkExpired"))):i.verifiedFromTheSameClient()?_(!0):await(0,S.A)({signUp:t,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number",handleComplete:()=>f({session:t.createdSessionId,beforeEmit:n}),navigate:g})};return v?(0,a.Y)(w.$W,{title:(0,l.localizationKeys)("signUp.emailLink.verifiedSwitchTab.title"),subtitle:(0,l.localizationKeys)("signUp.emailLink.verifiedSwitchTab.subtitleNewTab"),status:"verified_switch_tab"}):(0,a.Y)(l.Flow.Part,{part:"emailLink",children:(0,a.Y)(d.VerificationLinkCard,{cardTitle:(0,l.localizationKeys)("signUp.emailLink.title"),cardSubtitle:(0,l.localizationKeys)("signUp.emailLink.subtitle"),formTitle:(0,l.localizationKeys)("signUp.emailLink.formTitle"),formSubtitle:(0,l.localizationKeys)("signUp.emailLink.formSubtitle"),resendButton:(0,l.localizationKeys)("signUp.emailLink.resendButton"),onResendCodeClicked:()=>{y(),A()},safeIdentifier:t.emailAddress})})},D=(0,d.withCardStateProvider)((()=>{const{userSettings:e}=(0,s.useEnvironment)(),{attributes:t}=e;return t.email_address.verifications.includes("email_link")?(0,a.Y)(q,{}):(0,a.Y)(R,{})})),O=(0,d.withCardStateProvider)((()=>{const e=(0,s.useCoreSignUp)(),t=(0,d.useCardState)(),i=e.verifications.phoneNumber.status,r=!e.status||"verified"===i;return(0,z.st)(r?void 0:()=>e.preparePhoneNumberVerification({strategy:"phone_code"}).catch((e=>(0,p.H4)(e,[],t.setError))),{name:"signUp.preparePhoneNumberVerification",strategy:"phone_code",number:e.phoneNumber},{staleTime:100}),(0,a.Y)(l.Flow.Part,{part:"phoneCode",children:(0,a.Y)(L,{cardTitle:(0,l.localizationKeys)("signUp.phoneCode.title"),cardSubtitle:(0,l.localizationKeys)("signUp.phoneCode.subtitle"),resendButton:(0,l.localizationKeys)("signUp.phoneCode.resendButton"),prepare:()=>{if(!r)return e.preparePhoneNumberVerification({strategy:"phone_code"}).catch((e=>(0,p.H4)(e,[],t.setError)))},attempt:t=>e.attemptPhoneNumberVerification({code:t}),safeIdentifier:e.phoneNumber})})})),H=()=>(0,a.Y)(O,{});function M(){const e=(0,r.ho)();return o.useEffect((()=>{e.redirectToSignUp()}),[]),null}function B(){const e=(0,s.useSignUpContext)();return(0,a.Y)(l.Flow.Root,{flow:"signUp",children:(0,a.FD)(c.Switch,{children:[(0,a.Y)(c.Route,{path:"verify-email-address",canActivate:e=>!!e.client.signUp.emailAddress,children:(0,a.Y)(D,{})}),(0,a.Y)(c.Route,{path:"verify-phone-number",canActivate:e=>!!e.client.signUp.phoneNumber,children:(0,a.Y)(H,{})}),(0,a.Y)(c.Route,{path:"sso-callback",children:(0,a.Y)(N,{signUpUrl:e.signUpUrl,signInUrl:e.signInUrl,signUpForceRedirectUrl:e.afterSignUpUrl,signInForceRedirectUrl:e.afterSignInUrl,secondFactorUrl:e.secondFactorUrl,continueSignUpUrl:"../continue",verifyEmailAddressUrl:"../verify-email-address",verifyPhoneNumberUrl:"../verify-phone-number"})}),(0,a.Y)(c.Route,{path:"verify",children:(0,a.Y)(n.M,{redirectUrlComplete:e.afterSignUpUrl,verifyEmailPath:"../verify-email-address",verifyPhonePath:"../verify-phone-number"})}),(0,a.FD)(c.Route,{path:"continue",children:[(0,a.Y)(c.Route,{path:"verify-email-address",canActivate:e=>!!e.client.signUp.emailAddress,children:(0,a.Y)(D,{})}),(0,a.Y)(c.Route,{path:"verify-phone-number",canActivate:e=>!!e.client.signUp.phoneNumber,children:(0,a.Y)(H,{})}),(0,a.Y)(c.Route,{index:!0,children:(0,a.Y)(F,{})})]}),(0,a.Y)(c.Route,{index:!0,children:(0,a.Y)(I,{})}),(0,a.Y)(c.Route,{children:(0,a.Y)(M,{})})]})})}B.displayName="SignUp";const W=(0,s.withCoreSessionSwitchGuard)(B),V=e=>{const t={signInUrl:`/${c.VIRTUAL_ROUTER_BASE_PATH}/sign-in`,...e};return(0,a.Y)(c.Route,{path:"sign-up",children:(0,a.Y)(s.ComponentContext.Provider,{value:{componentName:"SignUp",...t,routing:"virtual"},children:(0,a.Y)("div",{children:(0,a.Y)(W,{...t,routing:"virtual"})})})})}},7007:function(e,t,i){i.d(t,{Re:function(){return r},XW:function(){return o},zN:function(){return a}});var a=[{provider:"google",strategy:"oauth_google",name:"Google",docsUrl:"https://clerk.com/docs/authentication/social-connections/google"},{provider:"discord",strategy:"oauth_discord",name:"Discord",docsUrl:"https://clerk.com/docs/authentication/social-connections/discord"},{provider:"facebook",strategy:"oauth_facebook",name:"Facebook",docsUrl:"https://clerk.com/docs/authentication/social-connections/facebook"},{provider:"twitch",strategy:"oauth_twitch",name:"Twitch",docsUrl:"https://clerk.com/docs/authentication/social-connections/twitch"},{provider:"twitter",strategy:"oauth_twitter",name:"Twitter",docsUrl:"https://clerk.com/docs/authentication/social-connections/twitter"},{provider:"microsoft",strategy:"oauth_microsoft",name:"Microsoft",docsUrl:"https://clerk.com/docs/authentication/social-connections/microsoft"},{provider:"tiktok",strategy:"oauth_tiktok",name:"TikTok",docsUrl:"https://clerk.com/docs/authentication/social-connections/tiktok"},{provider:"linkedin",strategy:"oauth_linkedin",name:"LinkedIn",docsUrl:"https://clerk.com/docs/authentication/social-connections/linkedin"},{provider:"linkedin_oidc",strategy:"oauth_linkedin_oidc",name:"LinkedIn",docsUrl:"https://clerk.com/docs/authentication/social-connections/linkedin-oidc"},{provider:"github",strategy:"oauth_github",name:"GitHub",docsUrl:"https://clerk.com/docs/authentication/social-connections/github"},{provider:"gitlab",strategy:"oauth_gitlab",name:"GitLab",docsUrl:"https://clerk.com/docs/authentication/social-connections/gitlab"},{provider:"dropbox",strategy:"oauth_dropbox",name:"Dropbox",docsUrl:"https://clerk.com/docs/authentication/social-connections/dropbox"},{provider:"atlassian",strategy:"oauth_atlassian",name:"Atlassian",docsUrl:"https://clerk.com/docs/authentication/social-connections/atlassian"},{provider:"bitbucket",strategy:"oauth_bitbucket",name:"Bitbucket",docsUrl:"https://clerk.com/docs/authentication/social-connections/bitbucket"},{provider:"hubspot",strategy:"oauth_hubspot",name:"HubSpot",docsUrl:"https://clerk.com/docs/authentication/social-connections/hubspot"},{provider:"notion",strategy:"oauth_notion",name:"Notion",docsUrl:"https://clerk.com/docs/authentication/social-connections/notion"},{provider:"apple",strategy:"oauth_apple",name:"Apple",docsUrl:"https://clerk.com/docs/authentication/social-connections/apple"},{provider:"line",strategy:"oauth_line",name:"LINE",docsUrl:"https://clerk.com/docs/authentication/social-connections/line"},{provider:"instagram",strategy:"oauth_instagram",name:"Instagram",docsUrl:"https://clerk.com/docs/authentication/social-connections/instagram"},{provider:"coinbase",strategy:"oauth_coinbase",name:"Coinbase",docsUrl:"https://clerk.com/docs/authentication/social-connections/coinbase"},{provider:"spotify",strategy:"oauth_spotify",name:"Spotify",docsUrl:"https://clerk.com/docs/authentication/social-connections/spotify"},{provider:"xero",strategy:"oauth_xero",name:"Xero",docsUrl:"https://clerk.com/docs/authentication/social-connections/xero"},{provider:"box",strategy:"oauth_box",name:"Box",docsUrl:"https://clerk.com/docs/authentication/social-connections/box"},{provider:"slack",strategy:"oauth_slack",name:"Slack",docsUrl:"https://clerk.com/docs/authentication/social-connections/slack"},{provider:"linear",strategy:"oauth_linear",name:"Linear",docsUrl:"https://clerk.com/docs/authentication/social-connections/linear"},{provider:"x",strategy:"oauth_x",name:"X / Twitter",docsUrl:"https://clerk.com/docs/authentication/social-connections/x-twitter-v2"},{provider:"enstall",strategy:"oauth_enstall",name:"Enstall",docsUrl:"https://clerk.com/docs/authentication/social-connections/enstall"},{provider:"huggingface",strategy:"oauth_huggingface",name:"Hugging Face",docsUrl:"https://clerk.com/docs/authentication/social-connections/huggingface"}],r={saml_okta:{name:"Okta Workforce",logo:"okta"},saml_google:{name:"Google Workspace",logo:"google"},saml_microsoft:{name:"Microsoft Entra ID (Formerly AD)",logo:"azure"},saml_custom:{name:"SAML",logo:"saml"}},o=[{provider:"metamask",strategy:"web3_metamask_signature",name:"MetaMask"},{provider:"coinbase_wallet",strategy:"web3_coinbase_wallet_signature",name:"Coinbase Wallet"}]},4814:function(e,t,i){i.d(t,{at:function(){return a.at}});var a=i(371);i(3781)}}]);